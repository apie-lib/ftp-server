services:
  Apie\FtpServer\FtpServerCommand:
    arguments:
      - '@Apie\FtpServer\FtpServerRunner'
      - '@Apie\ApieFileSystem\ApieFilesystemFactory'
      - '@Apie\Core\ContextBuilders\ContextBuilderFactory'
      - '%apie.ftp_server.public_ip%'
      - '%apie.ftp_server.passive_min_port%'
      - '%apie.ftp_server.passive_max_port%'
    tags:
      - { name: 'console.command' }

  Apie\FtpServer\FtpServerRunner:
    factory:
      -  Apie\FtpServer\FtpServerRunner
      - 'create'